{% extends "base.html" %}
{% block content %}
<body style="background-image: linear-gradient(rgb(241, 241, 241), rgb(238, 228, 228), rgb(243, 239, 239));">
    <div class="m-1 mx-2">
        <div style="height:4vh; width:99vw; background-color: rgb(217, 248, 248);" class="d-flex justify-content-end">
            <div class="text-right px-2"><a href="/creator">Creator Account</a></div>
            <div>|</div>
            <div class="text-right px-2"><a href="/logout">Logout</a></div>
        </div>
    </div>

    <div class="d-flex flex-row justify-content-around mb-1" style="height: 94vh;">
        <div style="width:18vw; min-height: 100%; background-color: aqua;" >
            
        </div>
        <div style="width:80vw; min-height: 100%; background-color: aqua;" >
            <input type="text" placeholder="Title" name="title" id="title">
            <button onclick="search()">Search</button>
            <div class="form-group m-1">
                <div class="m-1"><label for="genre">Genre</label></div>
                <select style="width: 100%;" class="p-1 m-1" name="genre" value="all">
                    <option value="all">All</option>
                    {% for gen in genres %}
                        <option value="{{gen.name}}">{{gen.name}}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group m-1">
                <div class="m-1"><label for="genre">Language</label></div>
                <select style="width: 100%;" class="p-1 m-1" name="language" value="all">
                    <option value="all">All</option>
                    {% for language in languages %}
                        <option value="{{language.name}}">{{language.name}}</option>
                    {% endfor %}
                </select>
            </div>
        </div>
    </div>
    <script>
        const search = async () => {
            title = document.getElementById('title').value
            console.log(title)
            const request = new Request("/api/album/song/search", {
                    method: "PUT", 
                    body: {
                        title : title,
                    }
                });
                res = await fetch(request);
                res.json().then(() => {
                    setLike()
                });
        }
    </script>
</body>
{% endblock %}

{% block footer %}
    
{% endblock %}